"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var subscribe=function(){var n=document.querySelector(".form"),r=n.querySelector(".form__input"),u="Идет загрузка. Подождите...",o="Данные успешно отправлены. Спасибо за подписку!",a="Что-то пошло не так. Попробуйте повторить отправку позже...";r.required=!0;n.addEventListener("submit",function(e){e.preventDefault(),function(e){/.+@.+\..+/i.test(e)}(r.value);var t=function(){var e=document.createElement("div");return e.classList.add("status"),n.appendChild(e),e}();(function(t,n){var r;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return document.querySelector(".status").textContent=u,e.next=3,regeneratorRuntime.awrap(fetch(t,{method:"POST",body:n}));case 3:return r=e.sent,e.next=6,regeneratorRuntime.awrap(r.text());case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}})})("server.php",new FormData(n)).then(function(e){console.log(e),t.textContent=o}).catch(function(){return t.textContent=a}).finally(function(){r.value="",setTimeout(function(){t.remove()},5e3)})})},_default=subscribe;exports.default=_default;
//# sourceMappingURL=subscription.min.js.map
